var pokemonRepository=function(){var e=[],t=document.querySelector("#modal-container"),n="https://pokeapi.co/api/v2/pokemon/?limit=150";function o(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("add an object")}function a(e){var t=document.querySelector("#modal-container");t.innerHTML="";var n=document.createElement("div");n.classList.add("modal");var o=document.createElement("button");o.classList.add("modal-close"),o.innerText="Close",o.addEventListener("click",i);var a=document.createElement("h1");e.name.charAt(0).toUpperCase(),e.name.slice(1),a.innerText=e.name;var r=document.createElement("img");r.src=e.imageUrl,r.classList.add("modal-img");var c=document.createElement("p");c.innerText="Height: "+e.height;var l=document.createElement("p");l.innerText="Types: "+e.types,n.appendChild(o),n.appendChild(a),n.appendChild(r),n.appendChild(c),n.appendChild(l),t.appendChild(n),t.classList.add("is-visible")}function i(){document.querySelector("#modal-container").classList.remove("is-visible")}return window.addEventListener("keydown",e=>{var t=document.querySelector("#modal-container");"Escape"===e.key&&t.classList.contains("is-visible")&&i()}),(t=document.querySelector("#modal-container")).addEventListener("click",e=>{e.target===t&&i()}),{add:o,getAll:function(){return e},addListItem:function(e){var t=document.querySelector(".pokemon-list"),n=document.createElement("li"),o=document.createElement("button");o.innerText=e.name,o.classList.add("my-class"),n.appendChild(o),t.appendChild(n),o.addEventListener("click",function(t){var n;n=e,pokemonRepository.loadDetails(n).then(function(){console.log(n),a(n)})})},loadList:function(){return fetch(n).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){var t={name:e.name,detailsUrl:e.url};o(t),console.log(t)})}).catch(function(e){console.error(e)})},loadDetails:function(e){var t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=[];for(var n=0;n<t.types.length;n++)e.types.push(t.types[n].type.name)}).catch(function(e){console.error(e)})},showModal:a,hideModal:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});